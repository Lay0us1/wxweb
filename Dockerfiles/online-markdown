FROM nginx:latest
LABEL maintainer="xrsec"
LABEL mail="troy@zygd.site"
LABEL Github="https://github.com/XRSec/wxweb"
LABEL org.opencontainers.image.source="https://github.com/XRSec/wxweb"
LABEL org.opencontainers.image.title="wxweb"

# https://github.com/softwarefly/online-markdown.git
RUN apt update -y \
    && apt upgrade -y \
    && apt install git -y \
    && rm -rf /usr/share/nginx/html/* \
    && git clone https://github.com/softwarefly/online-markdown.git /tmp/online-markdown \
    && mv /tmp/online-markdown/docs/* /usr/share/nginx/html/ \
    && rm /usr/share/nginx/html/CNAME

COPY Resources/online-markdown.md /usr/share/nginx/html/demo.md

ENV LANG en_US.utf8